<!doctype html>
<html lang="en">
    
<!-- Mirrored from phpbackend.com/blog/post/php-8-0-gdimage-object-is-used-instead-of-resource-type by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2025 04:35:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
        <base >
        <meta charset="UTF-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">

        <!-- meta area -->
                <title>PHP 8.0 : \GDImage object is used instead of resource type :: PHP Backend Related discussions at PHPBackend.com</title>
        <meta name="keywords" content="PHP 8.0 : \GDImage object is used instead of resource type, php, backend, php backend, php 7, php 8, whats new in php 8, programming, web development, software, tutorial, blog" />
        <meta name="description" content="From PHP 8.0, All GD functions with work with \GDImage class object instead of &apos;resource&apos; type. Similar to : CurlHandle Object What is GD? GD is an open source library" />
        <meta name="robots" content="index, follow" />
                <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 

        <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com/">
        <link rel="preload" href="../../assets/icomoon/style.css" as="style" />

        <!-- stylesheet -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github.min.css" />

        <link rel="stylesheet" href="../../assets/icomoon/style.css">

        <style>
            /*Default*/
            pre {
                display: block;
                overflow-x: auto;
                padding: .8em;
                color: #333;
                background: #f8f8f8;
                font-size: medium;
            }

            body {
                background-color: #fefefe;
            }

            a {
                color: #343a40;
            }

            .article .body a {
                text-decoration: underline;
            }

            blockquote {
                background: #f9f9f9;
                border-left: 10px solid #ccc;
                margin: 1.5em 10px;
                padding: 0.5em 10px;
                quotes: "\201C""\201D""\2018""\2019";
            }
            blockquote:before {
                color: #ccc;
                content: open-quote;
                font-size: 4em;
                line-height: 0.1em;
                margin-right: 0.25em;
                vertical-align: -0.4em;
            }
            blockquote:after {
                color: #ccc;
                content: close-quote;
                font-size: 4em;
                line-height: 0.1em;
                margin-left: 0.25em;
                vertical-align: -0.4em;
            }
            blockquote p {
                display: inline;
            }

            .article {
                margin:15px;
                padding: 15px;
                /*border: 1px solid #b0b0b0;*/
                background-color: white;
                font-size: 1.3em;
            }

            .article .title {
                color: #343a40;
                font-size: 1.5em;
                font-weight: bold;
                margin-bottom: 0.5em;
            }

            .article .title a {
                color: #343a40;
            }
            .article .meta {
                font-size: 0.7em;
                margin-bottom: 0.3em;
            }

            .article .slurp {
                font-size: 0.8em;
                font-weight: normal;
                color: #6B6B6B;
            }
            .article .body {
                margin-top: 1.2em;
            }
            .article .body p {
                margin-bottom: 0.7em;
            }

            footer {
                color: white;
                background-color: #343a40;
                padding: 1em;
            }

            footer a, footer a:hover {
                color: #ffffff;
            }

            .copyright {
                text-align: center;
            }

            @media (max-width: 800px) {
                .article {
                    margin-left: -10px;
                    margin-right: -10px;
                    margin-top: 5px;
                    margin-bottom: 5px;
                    font-size: 1em;
                }

                .article .title {
                    font-size: 1.3em;
                }
            }
        </style>

                <meta property="og:title" content="PHP 8.0 : \GDImage object is used instead of resource type :: PHP Backend Related discussions at PHPBackend.com" />
        <meta property="og:site_name" content="PHPBackend.com" />
        <meta property="og:description" content="Welcome to world of PHP, the most laughed at language on the internet. Here at PHPBackend, we discuss about new php versions, tips & tricks, tutorials and rants." />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://phpbackend.com/blog/post/php-8-0-gdimage-object-is-used-instead-of-resource-type" />
        <meta property="og:image" content="https://phpbackend.com/images/phpbackend-og.jpg" />
        <meta property="og:image:width" content="600" />
        <meta property="og:image:height" content="450" />
            </head><body>
    <div class="bg-dark" id="navbarHeader">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <a class="navbar-brand" href="../../index.html">&lt;?php Backend.com</a>
<!--                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavDropdown">
                    <ul class="navbar-nav ml-auto">
                    </ul>
                </div>-->
            </nav>
        </div>
    </div><div class="container">
    <div class="row">
        <div class="col-sm-10">
                            <div class="article">
                    <div class="title">
                        PHP 8.0 : \GDImage object is used instead of resource type                    </div>
                    <div class="meta">
                        <i class="icon-calendar"></i> 28, September 2020                    </div>
                    <hr>
                    <div class="body">
                        <p>From PHP 8.0, All GD functions with work with \GDImage class object instead of <span style="color: rgb(240, 102, 102);">'resource'</span> type.</p><p>Similar to : <a href="https://ataur.net/blog/post/php-8-0-curlHandle-object-in-curl-functions" target="_blank">CurlHandle Object</a></p><p><br></p><p><strong>What is GD?</strong></p><p><strong>GD</strong> is an open source library for the dynamic creation of images. This functionality in available in PHP via an 'gd' extension. This extenstion provide several functions such as : <span style="color: rgb(240, 102, 102);">imagecreate(), imagecreatetruecolor(), imagecopyresampled()</span><span style="color: rgb(178, 107, 0);"> </span>to create and manipulate images.</p><p><br></p><p><strong>So, How this change affects me?</strong></p><p>If you are using GD library, This will slightly require you to look into your existing code if you have 'is_resource()' check in it. As gd functions now accept and return \GDImage class object (no longer resource), You need to update that check like below:</p><pre class="ql-syntax" spellcheck="false"><span class="hljs-meta">&lt;?php</span>

$image = imagecreatetruecolor(<span class="hljs-number">100</span>, <span class="hljs-number">50</span>);

<span class="hljs-comment">// PHP 7.4</span>
<span class="hljs-keyword">if</span>(is_resource($image) &amp;&amp; get_resource_type($image) === <span class="hljs-string">'gd'</span>) {
  <span class="hljs-comment">/**
﻿  * valid gd resource
  * do something with $image﻿
  */</span>
}

<span class="hljs-comment">// PHP 8.0</span>
<span class="hljs-keyword">if</span>(is_object($image) &amp;&amp; $image <span class="hljs-keyword">instanceof</span> \GDImage) {
  <span class="hljs-comment">// valid gd resource</span>
  ﻿<span class="hljs-comment">// do something with $image </span>
}﻿

<span class="hljs-comment">// Combine both version to support both PHP 7 &amp; 8</span>
﻿<span class="hljs-keyword">if</span>(
    (is_resource($image) &amp;&amp; get_resource_type($image) === <span class="hljs-string">'gd'</span>) ||
    (is_object($image) &amp;&amp; $image <span class="hljs-keyword">instanceof</span> \GDImage)
{
  <span class="hljs-comment">// valid $image</span>
}
</pre><p>Please Note: gd functions like imagecreate() returns <strong>false</strong> on failure in both PHP <span class="hljs-number">7</span> &amp; <span class="hljs-number">8.</span></p><p><br></p><p>As, there is no 'resource' type anymore, imagedestroy() is now useless. It does nothing. PHP can free memory usage of \GDImage when it is not used anymore, or you can explicitly free by calling unset($image);</p><p><br></p><p><strong>Limitations of GDImage:</strong></p><ul><li>GDImage is a final class, so we can't extend it.</li><li>It has no method.</li><li>It does not even has a public __construct() method, so we can't initialize it via new GDImage()</li><li>It can not be cloned or serialized.</li></ul><p><br></p><p>Reference: <a href="https://github.com/php/php-src/commit/8aad466c42b5feabc7565856eb006c326f35382f" target="_blank">https://github.com/php/php-src/commit/8aad466c42b5feabc7565856eb006c326f35382f</a></p>                    </div>
                </div>
                            <div class="row">                    <div class="col-sm-6">
                        <div class="article">
                            <b>
                                <a href="php-8-0-nullsafe-operator.html">PHP 8.0 : Nullsafe operator</a>
                            </b>
                        </div>
                    </div>
                                        <div class="col-sm-6">
                        <div class="article">
                            <b>
                                <a href="php-8-0-json-extension-is-now-always-available.html">PHP 8.0 : Json extension is now always available</a>
                            </b>
                        </div>
                    </div>
                    </div>
<style>
.comments .comment_header {
    display: flex;
    justify-content: space-between;
    border-bottom: 1px solid #eee;
    padding: 15px 0;
    margin-bottom: 10px;
    align-items: center;
}
.comments .comment_header .total {
    color: #777777;
    font-size: 14px;
}
.comments .comment_header .write_comment_btn {
    margin: 0;
}
.comments .write_comment_btn, .comments .write_comment button {
    display: inline-block;
    background-color: #565656;
    color: #fff;
    text-decoration: none;
    margin: 10px 0 0 0;
    padding: 5px 15px;
    border-radius: 5px;
    font-size: 14px;
    font-weight: 600;
    border: 0;
}
.comments .write_comment_btn:hover, .comments .write_comment button:hover {
    background-color: #636363;
}
.comments .write_comment {
    padding: 20px 0 10px 0;
}
.comments .write_comment textarea {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    height: 150px;
    margin-top: 10px;
}
.comments .write_comment input {
    display: block;
    width: 250px;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    margin-top: 10px;
}
.comments .write_comment button {
    cursor: pointer;
}
.comments .comment {
    padding-top: 10px;
}
.comments .comment .name {
    display: inline;
    padding: 0 5px 3px 0;
    margin: 0;
    font-size: 16px;
    color: #555555;
}
.comments .comment .date {
    color: #888888;
    font-size: 14px;
}
.comments .comment .content {
    padding: 5px 0 5px 0;
}
.comments .comment .reply_comment_btn {
    display: inline-block;
    text-decoration: none;
    margin-bottom: 10px;
    font-size: 14px;
    color: #888888;
}
.comments .comment .replies {
    padding-left: 30px;
}
</style>

<div class="comments">
   <hr>
    <h2>Write comment about this article:</h2>

    <div class="write_comment">
        <form>
            <input name="website" type="text" value="http://" style="display: none;">
	    <input name="url" type="text" value="" style="display: none;">

	    <input name="name" type="text" placeholder="Your Name" required>
            <textarea name="content" placeholder="Write your comment here..." required></textarea>
            <button type="submit">Submit Comment</button>
        </form>
    </div>

</div>

<script>

document.querySelector("input[name='url']").value = window.location.href;

const comments_page_id = 1; // This number should be unique on every page

document.querySelectorAll(".comments .write_comment form").forEach(element => {
		element.onsubmit = event => {
			event.preventDefault();
			fetch("../../post-comment.html", {
				method: 'POST',
				body: new FormData(element)
			}).then(response => response.text()).then(data => {
				element.parentElement.innerHTML = data;
			});
		};
	});
</script>

        </div>
    </div>
</div>
<footer>
    <div class="" style="text-align: center; margin-bottom: 10px;">
        <a href="../../rss.xml">Rss Feed</a>
    </div>
    <div class="copyright">
        <a href="../../index.html">&lt;?php Backend.com</a>
    </div>
</footer>    </body>

<!-- Mirrored from phpbackend.com/blog/post/php-8-0-gdimage-object-is-used-instead-of-resource-type by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Jun 2025 04:35:29 GMT -->
</html>